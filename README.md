# がん登録推進法20条提供の生存確認情報活用にあたって
## 背景
 がん登録等の推進に関する法律では、20条により各施設が全国がん登録に届出した症例については、都道府県の全国がん登録担当部署に請求すれば生存確認情報（最終生存確認日/死亡日、死亡している場合には死因）の提供を受けることができます。\
 しかし、これらの情報は第3者提供が禁止されており、多施設共同研究などで予後分析を行う場合には、以下の加工をすることが条件とされています。（[厚生労働省・国立がん研究センター、全国がん登録利用マニュアル（令和7年4月版）](https://www.mhlw.go.jp/content/10900000/001469687.pdf) 27-28ページ）
 - 診断日等の「起算日」を定める
 - 最終生存確認日、死亡日は、起点日からの日数に変換する
 - 起算日は、年月までとして、日の情報を削除する
 - 死因情報は、「がん」か「がん以外」かの区別のみとする

このサイトでは、上記のうち、各施設内で院内がん登録を出力したファイルから、通常、院内がん登録で起算日として使われる「診断日」を起点として、最終生存確認備、死亡日だけでなく、当該腫瘍初診日、多施設診断日、自施設診断日、各種治療の日も含めて、日数に変換した上で、診断日を年月までとして「日」の情報を00に置き換えるプログラムを作成しました。\
（当面は、死因の加工は行っておりませんのでご注意ください。）

## 説明
python 3.12.10で動作確認しています。
main.pyとsub.pyを同じフォルダに配置して、main.pyを実行すれば、ファイルを指定するウィンドウが現れますので、処理対象となる、院内がん登録ファイル（元ファイル)を選択(csv）、出力フォルダを指定して、「処理実行」のボタンを押せば、元ファイルのファイル名にｰoutを付けたcsvファイルが生成されます。

### 条件

'当該腫瘍初診日','他施設診断日','自施設診断日','外科的治療の施行日（自施設）','鏡視下治療の施行日（自施設）','内視鏡的治療の施行日（自施設）','放射線療法の施行日（自施設）','化学療法の施行日（自施設）','内分泌療法の施行日（自施設）','生存最終確認日','死亡日'
を加工します。

